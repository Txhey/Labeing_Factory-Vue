<template>
  <div style="height: 100%;position: relative;">
    <div class="container">
      <div class="rectangle">
        <img src="../assets/images/factory.png" class="factory">
        <div class="bubble-container">
          <div class="bubble-wrapper">
            <img src="../assets/images/bubble.png" class="bubble">
            <div class="bubble-text">
              <div class="bubble-title">æ ‡æ³¨æœºå™¨äºº1å·</div>
              <div class="bubble-content">{{displayedText1}}</div>
            </div>
          </div>
          <div class="bubble-wrapper">
            <img src="../assets/images/bubble.png" class="bubble">
            <div class="bubble-text">
              <div class="bubble-title">æ ‡æ³¨æœºå™¨äºº2å·</div>
              <div class="bubble-content">{{displayedText2}}</div>
            </div>
          </div>
          <div class="bubble-wrapper">
            <img src="../assets/images/bubble.png" class="bubble">
            <div class="bubble-text">
              <div class="bubble-title">æ ‡æ³¨æœºå™¨äºº3å·</div>
              <div class="bubble-content">{{displayedText3}}</div>
            </div>
          </div>
        </div>

        <div class="bubble-container-1">
          <div class="bubble-wrapper">
            <img src="../assets/images/bubble.png" class="bubble">
            <div class="bubble-text">
              <div class="bubble-title">æ ‡æ³¨æœºå™¨äºº4å·</div>
              <div class="bubble-content">{{displayedText4}}</div>
            </div>
          </div>
          <div class="bubble-wrapper">
            <img src="../assets/images/bubble.png" class="bubble">
            <div class="bubble-text">
              <div class="bubble-title">æ ‡æ³¨æœºå™¨äºº5å·</div>
              <div class="bubble-content">{{displayedText2}}</div>
            </div>
          </div>
          <div class="bubble-wrapper">
            <img src="../assets/images/bubble.png" class="bubble">
            <div class="bubble-text">
              <div class="bubble-title">æ ‡æ³¨æœºå™¨äºº6å·</div>
              <div class="bubble-content">{{displayedText1}}</div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</template>
<script>
export default {
  // components: {Notice, Dict},
  data() {
    return {
      state1: 'æ­£åœ¨æ ‡æ³¨ä¸­...ğŸ˜¥',
      state2: 'æ ‡æ³¨å®Œæˆï¼Œæ­£åœ¨å®¡æ ¸ä¸­...ğŸ™ƒ',
      state3: 'å®¡æ ¸å¤±è´¥ğŸ˜¡ï¼Œéœ€è¦äººå·¥ä»‹å…¥',
      state4: 'å®¡æ ¸é€šè¿‡âˆšğŸ™‚',
      displayedText1: '',
      displayedText2: '',
      displayedText3: '',
      displayedText4: '',
      currentIndex1: 0,
      currentIndex2: 0,
      currentIndex3: 0,
      currentIndex4: 0,
      intervalTime: 500,
    };
  },
  mounted() {
    this.showText1();
    this.showText2();
    this.showText3();
    this.showText4();
  },
  methods: {
    showText1() {
      const interval = setInterval(() => {
        if (this.currentIndex1 < this.state1.length) {
          this.displayedText1 += this.state1[this.currentIndex1];
          this.currentIndex1++;
        } else {
          clearInterval(interval); // å½“å…¨éƒ¨å­—ç¬¦æ˜¾ç¤ºå®Œæ¯•æ—¶ï¼Œåœæ­¢å®šæ—¶å™¨
          setTimeout(() => {
            this.resetText1(); // å»¶è¿Ÿ 2 ç§’åé‡æ–°å¼€å§‹
          }, 2000); // 2000 æ¯«ç§’ = 2 ç§’
        }
      }, this.intervalTime); // è°ƒæ•´è¿™ä¸ªå€¼æ¥æ§åˆ¶æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é€Ÿåº¦
    },

    resetText1() {
      this.displayedText1 = ''; // æ¸…ç©ºæ˜¾ç¤ºçš„æ–‡æœ¬
      this.currentIndex1 = 0; // é‡ç½®ç´¢å¼•
      this.showText1(); // é‡æ–°å¼€å§‹
    },

    showText2() {
      const interval = setInterval(() => {
        if (this.currentIndex2 < this.state2.length) {
          this.displayedText2 += this.state2[this.currentIndex2];
          this.currentIndex2++;
        } else {
          clearInterval(interval); // å½“å…¨éƒ¨å­—ç¬¦æ˜¾ç¤ºå®Œæ¯•æ—¶ï¼Œåœæ­¢å®šæ—¶å™¨
          setTimeout(() => {
            this.resetText2(); // å»¶è¿Ÿ 2 ç§’åé‡æ–°å¼€å§‹
          }, 2000); // 2000 æ¯«ç§’ = 2 ç§’
        }
      }, this.intervalTime); // è°ƒæ•´è¿™ä¸ªå€¼æ¥æ§åˆ¶æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é€Ÿåº¦
    },

    resetText2() {
      this.displayedText2 = ''; // æ¸…ç©ºæ˜¾ç¤ºçš„æ–‡æœ¬
      this.currentIndex2 = 0; // é‡ç½®ç´¢å¼•
      this.showText2(); // é‡æ–°å¼€å§‹
    },

    showText3() {
      const interval = setInterval(() => {
        if (this.currentIndex3 < this.state3.length) {
          this.displayedText3 += this.state3[this.currentIndex3];
          this.currentIndex3++;
        } else {
          clearInterval(interval); // å½“å…¨éƒ¨å­—ç¬¦æ˜¾ç¤ºå®Œæ¯•æ—¶ï¼Œåœæ­¢å®šæ—¶å™¨
          setTimeout(() => {
            this.resetText3(); // å»¶è¿Ÿ 2 ç§’åé‡æ–°å¼€å§‹
          }, 2000); // 2000 æ¯«ç§’ = 2 ç§’
        }
      }, this.intervalTime); // è°ƒæ•´è¿™ä¸ªå€¼æ¥æ§åˆ¶æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é€Ÿåº¦
    },

    resetText3() {
      this.displayedText3 = ''; // æ¸…ç©ºæ˜¾ç¤ºçš„æ–‡æœ¬
      this.currentIndex3 = 0; // é‡ç½®ç´¢å¼•
      this.showText3(); // é‡æ–°å¼€å§‹
    },

    showText4() {
      const interval = setInterval(() => {
        if (this.currentIndex4 < this.state4.length) {
          this.displayedText4 += this.state4[this.currentIndex4];
          this.currentIndex4++;
        } else {
          clearInterval(interval); // å½“å…¨éƒ¨å­—ç¬¦æ˜¾ç¤ºå®Œæ¯•æ—¶ï¼Œåœæ­¢å®šæ—¶å™¨
          setTimeout(() => {
            this.resetText4(); // å»¶è¿Ÿ 2 ç§’åé‡æ–°å¼€å§‹
          }, 2000); // 2000 æ¯«ç§’ = 2 ç§’
        }
      }, this.intervalTime); // è°ƒæ•´è¿™ä¸ªå€¼æ¥æ§åˆ¶æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é€Ÿåº¦
    },

    resetText4() {
      this.displayedText4 = ''; // æ¸…ç©ºæ˜¾ç¤ºçš„æ–‡æœ¬
      this.currentIndex4 = 0; // é‡ç½®ç´¢å¼•
      this.showText4(); // é‡æ–°å¼€å§‹
    }
  },
};
</script>

<style scoped lang="scss">
.container {
  position:absolute;
  left:-660px;
  background-color: white; /* ç°è‰²èƒŒæ™¯ */
  display: flex;

  align-items: center;
  // height: 88vh; 
  height: 100%;
}

.rectangle {
  position: absolute;
  left: 330px;
  background-color: #23252C; /* ç™½è‰²èƒŒæ™¯ */
  width: 90vw; /* çŸ©å½¢å®½åº¦ä¸ºçª—å£çš„45% */
  height: 75vh; /* çŸ©å½¢é«˜åº¦ä¸ºçª—å£çš„90% */
  border-radius: 20px; /* åœ†è§’ */
  display: flex;
  align-items: center; /* å‚ç›´å±…ä¸­ */
  justify-content: center; /* æ°´å¹³å±…ä¸­ */
  overflow: hidden; /* é˜²æ­¢è¶…å‡ºçˆ¶å®¹å™¨ */
  transform: scale(0.5); /* ç¼©å° 80% */
  transform-origin: center; /* ä»ä¸­å¿ƒç¼©æ”¾ */
}

.factory {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: cover;
  left: 50%;  /* è®©å›¾åƒä¸­å¿ƒä¸çˆ¶å®¹å™¨ä¸­å¿ƒå¯¹é½ */
  top: 50%;   /* è®©å›¾åƒä¸­å¿ƒä¸çˆ¶å®¹å™¨ä¸­å¿ƒå¯¹é½ */
  transform: translate(-50%, -50%); /* ä½¿å›¾åƒçœŸæ­£å±…ä¸­ */
}

.bubble-container {
  position: absolute;
  display: flex;
  justify-content: center;
  width: 30vw;
  height: 30vh;
  left: 8vw;
  top: 22vh;
}

.bubble-container-1 {
  position: absolute;
  display: flex;
  justify-content: center;
  width: 30vw;
  height: 30vh;
  left: 38vw;
  top: 22vh;
}

.bubble-wrapper {
  position: relative;
  width: 10vw;
  height: 18vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.bubble {
  width: 95%;
  height: 95%;
  object-fit: contain;
}

.bubble-text {
  position: absolute;
  width: 90%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 1px; /* å†…è¾¹è·ï¼Œé¿å…æ–‡å­—ç´§è´´å›¾ç‰‡è¾¹ç¼˜ */
  box-sizing: border-box;
  pointer-events: none;
  overflow: hidden; /* é˜²æ­¢æº¢å‡º */
  font-family: 'Press Start 2P', cursive; /* åº”ç”¨åƒç´ é£æ ¼å­—ä½“ */
}

.bubble-title {
  position: absolute;
  top: 22%; /* å°†æ ‡é¢˜æ”¾åœ¨å›¾ç‰‡çš„é¡¶éƒ¨ */
  width: 100%; /* ç¡®ä¿æ ‡é¢˜ä¸ä¼šè¶…å‡ºå›¾ç‰‡è¾¹ç•Œ */
  text-align: center;
  font-size: 1.2vw; /* æ ¹æ®éœ€è¦è°ƒæ•´å­—ä½“å¤§å° */
  color: #4C7620; /* æ–‡å­—é¢œè‰² */
  white-space: nowrap; /* é˜²æ­¢æ ‡é¢˜æ¢è¡Œ */
  overflow: hidden;
  text-overflow: ellipsis; /* å¦‚æœæ ‡é¢˜å¤ªé•¿ï¼Œç”¨çœç•¥å·æ˜¾ç¤º */
}

.bubble-content {
  position: absolute;
  top: 55%; /* å°†å†…å®¹æ–‡å­—æ”¾åœ¨å›¾ç‰‡çš„ä¸­å¿ƒ */
  transform: translateY(-50%); /* ç¡®ä¿å†…å®¹æ–‡å­—å‚ç›´å±…ä¸­ */
  width: 100%; /* ç¡®ä¿å†…å®¹æ–‡å­—ä¸ä¼šè¶…å‡ºå›¾ç‰‡è¾¹ç•Œ */
  text-align: center;
  font-size: 1.1vw; /* æ ¹æ®éœ€è¦è°ƒæ•´å­—ä½“å¤§å° */
  color: #4C7620; /* æ–‡å­—é¢œè‰² */
  word-wrap: break-word; /* å…è®¸é•¿å•è¯æ¢è¡Œ */
}

.spacer {
  width: 5px; /* è®¾ç½®ä¸­é—´çš„ç©ºéš™å®½åº¦ */
}
</style>

